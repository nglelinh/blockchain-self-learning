<!DOCTYPE html>
<html lang="vi">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <style>
    .MathJax {
      padding: 2em 0.3em;
      overflow-x: auto;
      overflow-y: hidden;
    }
  </style>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <title>
    
      Lecture 06.02: Polkadot & Cosmos - Purpose-Built Interoperability Platforms &middot; Blockchain
    
  </title>

  <link rel="stylesheet" href="/deep-learning-self-learning/public/css/poole.css">
  <link rel="stylesheet" href="/deep-learning-self-learning/public/css/syntax.css">
  <link rel="stylesheet" href="/deep-learning-self-learning/public/css/lanyon.css">
  <link rel="stylesheet" href="/deep-learning-self-learning/public/css/github-markdown.css">
  <link rel="stylesheet" href="/deep-learning-self-learning/public/css/multilang.css">
  <link rel="stylesheet" href="/deep-learning-self-learning/public/css/search.css">
  <link rel="stylesheet" href="/deep-learning-self-learning/public/css/content-boxes.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
  
  <!-- Lunr.js for search functionality -->
  <script src="https://unpkg.com/lunr/lunr.js"></script>

  <link rel="apple-touch-icon-precomposed" sizes="122x144" href="http://0.0.0.0:4000/deep-learning-self-learning/public/logo.png">
  <link rel="shortcut icon" href="http://0.0.0.0:4000/deep-learning-self-learning/public/convex-logo-144x144.png">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://0.0.0.0:4000/deep-learning-self-learning/atom.xml">

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>


  <body class="sidebar-overlay">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Blockchain</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="http://0.0.0.0:4000/deep-learning-self-learning/">Trang chủ</a>

    

    
    
    
    <!-- Hiển thị các chương có sẵn cho ngôn ngữ hiện tại -->
    
      
        
          
          
            <a class="sidebar-nav-item" href="http://0.0.0.0:4000/deep-learning-self-learning/contents/vi/chapter00/">
              00. Chapter 00: Nền Tảng Blockchain
              
            </a>
          
        
      
    
      
        
          
          
            <a class="sidebar-nav-item" href="http://0.0.0.0:4000/deep-learning-self-learning/contents/vi/chapter01/">
              01. Chapter 01: Bitcoin - Architecture và Proof-of-Work
              
            </a>
          
        
      
    
      
        
          
          
            <a class="sidebar-nav-item" href="http://0.0.0.0:4000/deep-learning-self-learning/contents/vi/chapter02/">
              02. Chapter 02: Advanced Consensus Mechanisms
              
            </a>
          
        
      
    
      
        
          
          
            <a class="sidebar-nav-item" href="http://0.0.0.0:4000/deep-learning-self-learning/contents/vi/chapter03/">
              03. Chapter 03: Ethereum và Smart Contracts
              
            </a>
          
        
      
    
      
        
          
          
            <a class="sidebar-nav-item" href="http://0.0.0.0:4000/deep-learning-self-learning/contents/vi/chapter04/">
              04. Chapter 04: Blockchain Scalability và Layer-2 Solutions
              
            </a>
          
        
      
    
      
        
          
          
            <a class="sidebar-nav-item" href="http://0.0.0.0:4000/deep-learning-self-learning/contents/vi/chapter05/">
              05. Chapter 05: Privacy và Security trong Blockchain
              
            </a>
          
        
      
    
      
        
          
          
            <a class="sidebar-nav-item" href="http://0.0.0.0:4000/deep-learning-self-learning/contents/vi/chapter06/">
              06. Chapter 06: Blockchain Interoperability
              
            </a>
          
        
      
    
      
        
          
          
            <a class="sidebar-nav-item" href="http://0.0.0.0:4000/deep-learning-self-learning/contents/vi/chapter07/">
              07. Chapter 07: Advanced Blockchain Topics
              
            </a>
          
        
      
    
    
    <!-- Nếu không có nội dung cho ngôn ngữ hiện tại, hiển thị thông báo -->
    
    
    <span class="sidebar-nav-item">Currently v0.0.1</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2025. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap github-md-body">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/deep-learning-self-learning/" title="Trang chủ">Blockchain</a>
            <small></small>
          </h3>
          <!-- Header Actions: Language Toggle and GitHub Link -->
          <div class="header-actions">
            <div class="language-toggle">
              <a href="/deep-learning-self-learning/contents/en/chapter00/" class="language-switch" title="Chuyển sang tiếng Anh">Chuyển sang tiếng Anh</a>
            </div>
            <a class="github-logo__wrapper" target="_blank" href="https://github.com/nglelinh/deep-learning-self-learning" title="Github">
             <svg class="github-logo" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48"><linearGradient id="rL2wppHyxHVbobwndsT6Ca" x1="4" x2="44" y1="23.508" y2="23.508" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#4c4c4c"/><stop offset="1" stop-color="#343434"/></linearGradient><path fill="url(#rL2wppHyxHVbobwndsT6Ca)" d="M24,4C12.954,4,4,12.954,4,24c0,8.887,5.801,16.411,13.82,19.016h12.36	C38.199,40.411,44,32.887,44,24C44,12.954,35.046,4,24,4z"/><path d="M30.01,41.996L30,36.198c0-0.939-0.22-1.856-0.642-2.687c5.641-1.133,8.386-4.468,8.386-10.177	c0-2.255-0.665-4.246-1.976-5.92c0.1-0.317,0.174-0.645,0.22-0.981c0.188-1.369-0.023-2.264-0.193-2.984l-0.027-0.116	c-0.186-0.796-0.409-1.364-0.418-1.388l-0.111-0.282l-0.111-0.282l-0.302-0.032l-0.303-0.032c0,0-0.199-0.021-0.501-0.021	c-0.419,0-1.04,0.042-1.627,0.241l-0.196,0.066c-0.74,0.249-1.439,0.485-2.417,1.069c-0.286,0.171-0.599,0.366-0.934,0.584	C27.334,12.881,25.705,12.69,24,12.69c-1.722,0-3.365,0.192-4.889,0.571c-0.339-0.22-0.654-0.417-0.942-0.589	c-0.978-0.584-1.677-0.819-2.417-1.069l-0.196-0.066c-0.585-0.199-1.207-0.241-1.626-0.241c-0.302,0-0.501,0.021-0.501,0.021	l-0.302,0.032l-0.3,0.031l-0.112,0.281l-0.113,0.283c-0.01,0.026-0.233,0.594-0.419,1.391l-0.027,0.115	c-0.17,0.719-0.381,1.615-0.193,2.983c0.048,0.346,0.125,0.685,0.23,1.011c-1.285,1.666-1.936,3.646-1.936,5.89	c0,5.695,2.748,9.028,8.397,10.17c-0.194,0.388-0.345,0.798-0.452,1.224c-0.197,0.067-0.378,0.112-0.538,0.137	c-0.238,0.036-0.487,0.054-0.739,0.054c-0.686,0-1.225-0.134-1.435-0.259c-0.313-0.186-0.872-0.727-1.414-1.518	c-0.463-0.675-1.185-1.558-1.992-1.927c-0.698-0.319-1.437-0.502-2.029-0.502c-0.138,0-0.265,0.01-0.376,0.028	c-0.517,0.082-0.949,0.366-1.184,0.78c-0.203,0.357-0.235,0.773-0.088,1.141c0.219,0.548,0.851,0.985,1.343,1.255	c0.242,0.133,0.765,0.619,1.07,1.109c0.229,0.368,0.335,0.63,0.482,0.992c0.087,0.215,0.183,0.449,0.313,0.732	c0.47,1.022,1.937,1.924,2.103,2.023c0.806,0.483,2.161,0.638,3.157,0.683l0.123,0.003c0,0,0.001,0,0.001,0	c0.24,0,0.57-0.023,1.004-0.071v2.613c0.002,0.529-0.537,0.649-1.25,0.638l0.547,0.184C19.395,43.572,21.645,44,24,44	c2.355,0,4.605-0.428,6.703-1.176l0.703-0.262C30.695,42.538,30.016,42.422,30.01,41.996z" opacity=".05"/><path d="M30.781,42.797c-0.406,0.047-1.281-0.109-1.281-0.795v-5.804c0-1.094-0.328-2.151-0.936-3.052	c5.915-0.957,8.679-4.093,8.679-9.812c0-2.237-0.686-4.194-2.039-5.822c0.137-0.365,0.233-0.75,0.288-1.147	c0.175-1.276-0.016-2.086-0.184-2.801l-0.027-0.116c-0.178-0.761-0.388-1.297-0.397-1.319l-0.111-0.282l-0.303-0.032	c0,0-0.178-0.019-0.449-0.019c-0.381,0-0.944,0.037-1.466,0.215l-0.196,0.066c-0.714,0.241-1.389,0.468-2.321,1.024	c-0.332,0.198-0.702,0.431-1.101,0.694C27.404,13.394,25.745,13.19,24,13.19c-1.762,0-3.435,0.205-4.979,0.61	c-0.403-0.265-0.775-0.499-1.109-0.699c-0.932-0.556-1.607-0.784-2.321-1.024l-0.196-0.066c-0.521-0.177-1.085-0.215-1.466-0.215	c-0.271,0-0.449,0.019-0.449,0.019l-0.302,0.032l-0.113,0.283c-0.009,0.022-0.219,0.558-0.397,1.319l-0.027,0.116	c-0.169,0.715-0.36,1.524-0.184,2.8c0.056,0.407,0.156,0.801,0.298,1.174c-1.327,1.62-1.999,3.567-1.999,5.795	c0,5.703,2.766,8.838,8.686,9.806c-0.395,0.59-0.671,1.255-0.813,1.964c-0.33,0.13-0.629,0.216-0.891,0.256	c-0.263,0.04-0.537,0.06-0.814,0.06c-0.69,0-1.353-0.129-1.69-0.329c-0.44-0.261-1.057-0.914-1.572-1.665	c-0.35-0.51-1.047-1.417-1.788-1.755c-0.635-0.29-1.298-0.457-1.821-0.457c-0.11,0-0.21,0.008-0.298,0.022	c-0.366,0.058-0.668,0.252-0.828,0.534c-0.128,0.224-0.149,0.483-0.059,0.708c0.179,0.448,0.842,0.85,1.119,1.002	c0.335,0.184,0.919,0.744,1.254,1.284c0.251,0.404,0.37,0.697,0.521,1.067c0.085,0.209,0.178,0.437,0.304,0.712	c0.331,0.719,1.353,1.472,1.905,1.803c0.754,0.452,2.154,0.578,2.922,0.612l0.111,0.002c0.299,0,0.8-0.045,1.495-0.135v3.177	c0,0.779-0.991,0.81-1.234,0.81c-0.031,0,0.503,0.184,0.503,0.184C19.731,43.64,21.822,44,24,44c2.178,0,4.269-0.36,6.231-1.003	C30.231,42.997,30.812,42.793,30.781,42.797z" opacity=".07"/><path fill="#fff" d="M36.744,23.334c0-2.31-0.782-4.226-2.117-5.728c0.145-0.325,0.296-0.761,0.371-1.309	c0.172-1.25-0.031-2-0.203-2.734s-0.375-1.25-0.375-1.25s-0.922-0.094-1.703,0.172s-1.453,0.469-2.422,1.047	c-0.453,0.27-0.909,0.566-1.27,0.806C27.482,13.91,25.785,13.69,24,13.69c-1.801,0-3.513,0.221-5.067,0.652	c-0.362-0.241-0.821-0.539-1.277-0.811c-0.969-0.578-1.641-0.781-2.422-1.047s-1.703-0.172-1.703-0.172s-0.203,0.516-0.375,1.25	s-0.375,1.484-0.203,2.734c0.077,0.562,0.233,1.006,0.382,1.333c-1.31,1.493-2.078,3.397-2.078,5.704	c0,5.983,3.232,8.714,9.121,9.435c-0.687,0.726-1.148,1.656-1.303,2.691c-0.387,0.17-0.833,0.33-1.262,0.394	c-1.104,0.167-2.271,0-2.833-0.333s-1.229-1.083-1.729-1.813c-0.422-0.616-1.031-1.331-1.583-1.583	c-0.729-0.333-1.438-0.458-1.833-0.396c-0.396,0.063-0.583,0.354-0.5,0.563c0.083,0.208,0.479,0.521,0.896,0.75	c0.417,0.229,1.063,0.854,1.438,1.458c0.418,0.674,0.5,1.063,0.854,1.833c0.249,0.542,1.101,1.219,1.708,1.583	c0.521,0.313,1.562,0.491,2.688,0.542c0.389,0.018,1.308-0.096,2.083-0.206v3.75c0,0.639-0.585,1.125-1.191,1.013	C19.756,43.668,21.833,44,24,44c2.166,0,4.243-0.332,6.19-0.984C29.585,43.127,29,42.641,29,42.002v-5.804	c0-1.329-0.527-2.53-1.373-3.425C33.473,32.071,36.744,29.405,36.744,23.334z M11.239,32.727c-0.154-0.079-0.237-0.225-0.185-0.328	c0.052-0.103,0.22-0.122,0.374-0.043c0.154,0.079,0.237,0.225,0.185,0.328S11.393,32.806,11.239,32.727z M12.451,33.482	c-0.081,0.088-0.255,0.06-0.389-0.062s-0.177-0.293-0.096-0.381c0.081-0.088,0.255-0.06,0.389,0.062S12.532,33.394,12.451,33.482z M13.205,34.732c-0.102,0.072-0.275,0.005-0.386-0.15s-0.118-0.34-0.016-0.412s0.275-0.005,0.386,0.15	C13.299,34.475,13.307,34.66,13.205,34.732z M14.288,35.673c-0.069,0.112-0.265,0.117-0.437,0.012s-0.256-0.281-0.187-0.393	c0.069-0.112,0.265-0.117,0.437-0.012S14.357,35.561,14.288,35.673z M15.312,36.594c-0.213-0.026-0.371-0.159-0.353-0.297	c0.017-0.138,0.204-0.228,0.416-0.202c0.213,0.026,0.371,0.159,0.353,0.297C15.711,36.529,15.525,36.62,15.312,36.594z M16.963,36.833c-0.227-0.013-0.404-0.143-0.395-0.289c0.009-0.146,0.2-0.255,0.427-0.242c0.227,0.013,0.404,0.143,0.395,0.289	C17.381,36.738,17.19,36.846,16.963,36.833z M18.521,36.677c-0.242,0-0.438-0.126-0.438-0.281s0.196-0.281,0.438-0.281	c0.242,0,0.438,0.126,0.438,0.281S18.762,36.677,18.521,36.677z"/></svg>
            </a>
          </div>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">
    Lecture 06.02: Polkadot & Cosmos - Purpose-Built Interoperability Platforms
    
  </h1>
  <h1 id="lecture-polkadot--cosmos---purpose-built-interoperability-platforms">Lecture: Polkadot &amp; Cosmos - Purpose-Built Interoperability Platforms</h1>

<h2 id="1-concept-overview">1. Concept Overview</h2>

<p>Trong khi bridges attempt connect existing blockchains sau khi chúng đã được built independently, Polkadot và Cosmos represent fundamental rethinking của blockchain architecture itself, designing interoperability vào core protocol từ đầu. Hai platforms này embody different philosophies về cách achieve blockchain internet - Polkadot through shared security và coordinated execution, Cosmos through sovereign chains với standardized communication protocol. Understanding architectural differences giữa these approaches illuminates broader trade-offs trong blockchain interoperability design space.</p>

<p><strong>Polkadot</strong>, conceived bởi <strong>Gavin Wood</strong> (Ethereum co-founder) và described trong whitepaper năm 2016, introduces <strong>heterogeneous multi-chain architecture</strong>. Vision là enable multiple specialized blockchains (parachains) operate independently whilst sharing security của central relay chain. Key innovation: parachains không need bootstrap own validator sets - they inherit security từ relay chain’s validators, dramatically lowering barrier to launching new blockchain. This shared security model fundamentally different từ independent chains requiring separate consensus mechanisms.</p>

<p>Relay chain serves như coordinator và security provider. Validators on relay chain validate parachain blocks, ensuring correctness globally. Parachains submit block candidates to relay chain, validators verify state transitions valid, finalize blocks when consensus achieved. Cross-chain messages routed through relay chain, guaranteeing delivery và ordering. Architecture enables parachains focus on application logic rather than security bootstrapping, whilst maintaining trustless communication với other parachains.</p>

<p><strong>Cosmos</strong>, developed bởi <strong>Jae Kwon</strong> và <strong>Ethan Buchman</strong>, takes different approach emphasizing sovereignty. Vision “internet of blockchains” enables independent chains (zones) communicate through standardized <strong>Inter-Blockchain Communication (IBC)</strong> protocol whilst maintaining complete autonomy. Unlike Polkadot’s shared security, Cosmos chains each secure themselves independently, using IBC purely for communication layer. This preserves sovereignty - chains control own governance, consensus, economics - nhưng requires each chain sufficiently secure independently.</p>

<p>Cosmos Hub serves như first IBC-enabled chain và connection point, but không impose security on connected zones. Zones run Tendermint consensus (hoặc IBC-compatible BFT variant), implementing IBC modules enabling packet routing, verification, và acknowledgment. Communication trustless because each chain verifies counterparty’s consensus proofs cryptographically. No shared security means no systemic risk - compromise của one zone doesn’t affect others - nhưng also means weaker chains vulnerable individually.</p>

<p>Philosophical divide between approaches reflects fundamental tension trong blockchain design. Polkadot prioritizes <strong>security bootstrapping</strong> và <strong>coordination efficiency</strong> through shared validator set, accepting reduced sovereignty as tradeoff. Cosmos prioritizes <strong>sovereignty</strong> và <strong>flexibility</strong>, accepting security variance across zones và increased complexity trong ensuring individual chain security. Neither approach strictly superior - choice depends on specific requirements và trust assumptions acceptable for given use case.</p>

<p>Historical development timelines parallel but divergent. Polkadot mainnet launched May 2020, gradually onboarding parachains through auction mechanism starting December 2021. Cosmos Hub launched March 2019, với IBC protocol going live February 2021. Both ecosystems grown substantially - Polkadot hos numerous parachains (Moonbeam, Astar, Acala), Cosmos extensive zone network (Osmosis, Juno, Secret Network). Total value locked across both ecosystems exceeds tens of billions, demonstrating viability của purpose-built interoperability approaches.</p>

<hr />

<h2 id="2-intuitive-understanding">2. Intuitive Understanding</h2>

<p>Để grasp architectural differences intuitively, consider Polkadot như <strong>federal government system</strong> và Cosmos như <strong>United Nations</strong>. Federal system (Polkadot) features central authority (relay chain) providing shared defense (security) và coordination (cross-chain messaging) cho member states (parachains). States specialized - some focused on DeFi, some on identity, some on gaming - nhưng all protected by federal military (shared validators). States cannot secede easily (parachain slots limited, acquired through auction), nhưng benefit from shared security apparatus.</p>

<p>United Nations model (Cosmos) consists of independent sovereign nations (zones) với own armies (validators) và laws (governance). UN provides forum for communication (IBC protocol) và standards (Tendermint consensus), nhưng không enforce security. Each nation responsible for own defense. Strong nations secure, weak nations vulnerable. Communication between nations formalized through treaties (IBC channels), verified independently by each side. Nations can join hoặc leave freely, maintain complete autonomy, nhưng must ensure adequate self-defense.</p>

<p>Polkadot relay chain comparable to operating system kernel coordinating processes. Kernel manages resources (block space), schedules execution (parachain blocks), facilitates inter-process communication (cross-chain messages), và ensures overall system security. Processes (parachains) specialized - web browser, text editor, media player - each doing specific tasks efficiently. Kernel guarantees no process can crash system, processes can communicate safely, và resources allocated fairly. Trade-off: processes must conform to kernel’s rules, cannot execute arbitrary code without kernel permission.</p>

<p>Cosmos IBC protocol analogous to TCP/IP internet protocol suite. TCP/IP enables computers worldwide communicate regardless of hardware, operating system, hoặc network. Similarly, IBC enables blockchains communicate regardless of internal implementation, as long as they speak IBC language. Just như TCP/IP doesn’t guarantee computer security (each responsible for own firewalls, antivirus), IBC doesn’t guarantee blockchain security (each responsible for own consensus, validation). Flexibility maximized - any Tendermint chain can implement IBC - nhưng heterogeneity means varying security levels across network.</p>

<p>Parachain auctions trong Polkadot comparable to spectrum auctions for telecommunications. Parachain slots scarce resource (limited by relay chain capacity), acquired through competitive bidding using DOT tokens. Winners secure slot for lease period (96 weeks currently), during which inherit relay chain security. Auction mechanism ensures slots allocated to projects community values highest, creating market-based priority system. Trade-off: high capital requirements barrier to entry, but ensures only serious projects với community support acquire slots.</p>

<p>Cross-chain messaging patterns differ fundamentally. Polkadot’s <strong>XCMP (Cross-Chain Message Passing)</strong> operates within shared security context - relay chain validators ensure message delivery và execution correctness. Messages cannot be lost, corrupted, hoặc spoofed because shared validators enforce integrity. Cosmos’s <strong>IBC</strong> operates between independent chains - each chain verifies counterparty’s signatures và consensus proofs independently. No shared authority guarantees messages, pure cryptographic verification ensures authenticity. This requires chains trust counterparty securing itself properly, introducing assumption Polkadot avoids.</p>

<hr />

<h2 id="3-technical-foundation">3. Technical Foundation</h2>

<p>Polkadot architecture consists of multiple specialized components working together cohesively. <strong>Relay chain</strong> forms security backbone, implementing nominated proof-of-stake consensus (NPoS) với validator selection based on stake-weighted nomination. Validators randomly assigned to parachains each epoch, preventing long-term collusion. Parachain collators produce block candidates, submit to assigned validators, validators verify state transitions match claimed. Only after threshold validators attest block included trong relay chain, finalizing parachain state.</p>

<p>Relay chain runtime implemented using <strong>Substrate framework</strong> - modular blockchain development toolkit. Substrate provides consensus layer, networking, database, và runtime environment, allowing developers focus on application logic. All Polkadot parachains built using Substrate (though technically possible use other frameworks), ensuring compatibility và reducing integration complexity. Standardization enables rapid parachain development - projects can launch production blockchain in months rather than years required for building from scratch.</p>

<p><strong>XCMP protocol</strong> defines communication between parachains. When parachain A sends message to parachain B, message placed in relay chain state during parachain A’s block finalization. Parachain B reads message from relay chain state when processing next block. Relay chain validators guarantee message delivered exactly once, in order, without possibility of loss hoặc duplication. Security inherited from relay chain’s finality - once parachain block finalized, cross-chain messages finalized simultaneously.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PolkadotParachain</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Simplified Polkadot parachain model</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">para_id</span><span class="p">,</span> <span class="n">relay_chain</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">para_id</span> <span class="o">=</span> <span class="n">para_id</span>
        <span class="n">self</span><span class="p">.</span><span class="n">relay_chain</span> <span class="o">=</span> <span class="n">relay_chain</span>
        <span class="n">self</span><span class="p">.</span><span class="n">state</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">pending_blocks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">self</span><span class="p">.</span><span class="n">finalized_blocks</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">def</span> <span class="nf">produce_block</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">transactions</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Collator produces parachain block candidate</span><span class="sh">"""</span>
        <span class="n">block</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">para_id</span><span class="sh">'</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">para_id</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">parent_hash</span><span class="sh">'</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">get_latest_hash</span><span class="p">(),</span>
            <span class="sh">'</span><span class="s">transactions</span><span class="sh">'</span><span class="p">:</span> <span class="n">transactions</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">state_root</span><span class="sh">'</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">compute_state_root</span><span class="p">(),</span>
            <span class="sh">'</span><span class="s">messages</span><span class="sh">'</span><span class="p">:</span> <span class="p">[]</span>  <span class="c1"># Cross-chain messages
</span>        <span class="p">}</span>
        
        <span class="c1"># Execute transactions
</span>        <span class="k">for</span> <span class="n">tx</span> <span class="ow">in</span> <span class="n">transactions</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">execute_transaction</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
            
            <span class="c1"># If cross-chain tx, create message
</span>            <span class="k">if</span> <span class="n">tx</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">target_para</span><span class="sh">'</span><span class="p">):</span>
                <span class="n">message</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">create_xcmp_message</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
                <span class="n">block</span><span class="p">[</span><span class="sh">'</span><span class="s">messages</span><span class="sh">'</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        
        <span class="n">self</span><span class="p">.</span><span class="n">pending_blocks</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">block</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">block</span>
    
    <span class="k">def</span> <span class="nf">submit_to_relay_chain</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">block</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Submit block to relay chain validators</span><span class="sh">"""</span>
        <span class="c1"># Collator submits block candidate
</span>        <span class="c1"># Relay chain validators verify
</span>        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">relay_chain</span><span class="p">.</span><span class="nf">validate_parachain_block</span><span class="p">(</span>
            <span class="n">self</span><span class="p">.</span><span class="n">para_id</span><span class="p">,</span>
            <span class="n">block</span>
        <span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">create_xcmp_message</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">tx</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Create cross-chain message</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">source_para</span><span class="sh">'</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">para_id</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">target_para</span><span class="sh">'</span><span class="p">:</span> <span class="n">tx</span><span class="p">[</span><span class="sh">'</span><span class="s">target_para</span><span class="sh">'</span><span class="p">],</span>
            <span class="sh">'</span><span class="s">data</span><span class="sh">'</span><span class="p">:</span> <span class="n">tx</span><span class="p">[</span><span class="sh">'</span><span class="s">data</span><span class="sh">'</span><span class="p">]</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">process_xcmp_message</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Process incoming cross-chain message</span><span class="sh">"""</span>
        <span class="c1"># Verify message from relay chain state
</span>        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">relay_chain</span><span class="p">.</span><span class="nf">verify_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">para_id</span><span class="p">):</span>
            <span class="c1"># Execute message
</span>            <span class="n">self</span><span class="p">.</span><span class="nf">execute_message</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="sh">'</span><span class="s">data</span><span class="sh">'</span><span class="p">])</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>

<p>Cosmos architecture fundamentally different. Each zone runs independently, implementing Tendermint BFT consensus locally. <strong>Cosmos Hub</strong> serves like router - first zone implementing IBC, connecting to many other zones, facilitating multi-hop routing. However, Hub doesn’t validate other zones’ state transitions - purely relays messages. Security model relies on each zone’s validator set properly securing chain, với IBC providing secure communication channel.</p>

<p><strong>IBC protocol</strong> operates through light client model. Each chain maintains light client của counterparty chain - tracking validator set changes và verifying block headers. When chain A sends packet to chain B, IBC relayer (off-chain process) submits proof to chain B showing packet committed in chain A’s state. Chain B verifies proof using chain A’s validator signatures stored trong light client state, confirming packet authentic. Acknowledgment flows back similarly, creating reliable bidirectional communication.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">CosmosZone</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Simplified Cosmos zone with IBC</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">zone_id</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">zone_id</span> <span class="o">=</span> <span class="n">zone_id</span>
        <span class="n">self</span><span class="p">.</span><span class="n">validators</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">self</span><span class="p">.</span><span class="n">state</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">ibc_clients</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># client_id -&gt; ClientState
</span>        <span class="n">self</span><span class="p">.</span><span class="n">ibc_connections</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">ibc_channels</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">pending_packets</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">def</span> <span class="nf">create_ibc_client</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">counterparty_chain_id</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Create light client for counterparty chain</span><span class="sh">"""</span>
        <span class="n">client_id</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">client-</span><span class="si">{</span><span class="n">counterparty_chain_id</span><span class="si">}</span><span class="sh">"</span>
        
        <span class="n">self</span><span class="p">.</span><span class="n">ibc_clients</span><span class="p">[</span><span class="n">client_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">chain_id</span><span class="sh">'</span><span class="p">:</span> <span class="n">counterparty_chain_id</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">validator_set</span><span class="sh">'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>  <span class="c1"># Will be updated
</span>            <span class="sh">'</span><span class="s">trusted_height</span><span class="sh">'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">trusted_hash</span><span class="sh">'</span><span class="p">:</span> <span class="bp">None</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="n">client_id</span>
    
    <span class="k">def</span> <span class="nf">update_client</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">client_id</span><span class="p">,</span> <span class="n">header</span><span class="p">,</span> <span class="n">validator_signatures</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Update light client with new header</span><span class="sh">"""</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">ibc_clients</span><span class="p">[</span><span class="n">client_id</span><span class="p">]</span>
        
        <span class="c1"># Verify header signed by known validators
</span>        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="nf">verify_header</span><span class="p">(</span><span class="n">header</span><span class="p">,</span> <span class="n">validator_signatures</span><span class="p">,</span> <span class="n">client</span><span class="p">[</span><span class="sh">'</span><span class="s">validator_set</span><span class="sh">'</span><span class="p">]):</span>
            <span class="n">client</span><span class="p">[</span><span class="sh">'</span><span class="s">trusted_height</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">header</span><span class="p">[</span><span class="sh">'</span><span class="s">height</span><span class="sh">'</span><span class="p">]</span>
            <span class="n">client</span><span class="p">[</span><span class="sh">'</span><span class="s">trusted_hash</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">header</span><span class="p">[</span><span class="sh">'</span><span class="s">hash</span><span class="sh">'</span><span class="p">]</span>
            <span class="n">client</span><span class="p">[</span><span class="sh">'</span><span class="s">validator_set</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">header</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">next_validators</span><span class="sh">'</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
        
        <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">def</span> <span class="nf">send_ibc_packet</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">channel_id</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Send IBC packet to counterparty</span><span class="sh">"""</span>
        <span class="n">packet</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">sequence</span><span class="sh">'</span><span class="p">:</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">pending_packets</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">source_channel</span><span class="sh">'</span><span class="p">:</span> <span class="n">channel_id</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">data</span><span class="sh">'</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">timeout_height</span><span class="sh">'</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">get_height</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1000</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">timeout_timestamp</span><span class="sh">'</span><span class="p">:</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">+</span> <span class="mi">3600</span>
        <span class="p">}</span>
        
        <span class="c1"># Commit packet in state
</span>        <span class="n">commitment</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">commit_packet</span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">pending_packets</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">packet</span>
    
    <span class="k">def</span> <span class="nf">receive_ibc_packet</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">packet</span><span class="p">,</span> <span class="n">proof</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Receive and verify IBC packet</span><span class="sh">"""</span>
        <span class="c1"># Verify packet committed on source chain
</span>        <span class="n">client_id</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">get_client_for_channel</span><span class="p">(</span><span class="n">packet</span><span class="p">[</span><span class="sh">'</span><span class="s">source_channel</span><span class="sh">'</span><span class="p">])</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">ibc_clients</span><span class="p">[</span><span class="n">client_id</span><span class="p">]</span>
        
        <span class="c1"># Verify proof against client state
</span>        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="nf">verify_packet_commitment</span><span class="p">(</span><span class="n">packet</span><span class="p">,</span> <span class="n">proof</span><span class="p">,</span> <span class="n">client</span><span class="p">):</span>
            <span class="c1"># Process packet
</span>            <span class="n">self</span><span class="p">.</span><span class="nf">process_packet</span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
            
            <span class="c1"># Send acknowledgment back
</span>            <span class="n">self</span><span class="p">.</span><span class="nf">send_acknowledgment</span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
        
        <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">def</span> <span class="nf">verify_header</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">header</span><span class="p">,</span> <span class="n">signatures</span><span class="p">,</span> <span class="n">validator_set</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Verify consensus header with validator signatures</span><span class="sh">"""</span>
        <span class="c1"># Simplified - check 2/3+ validators signed
</span>        <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">signatures</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nf">len</span><span class="p">(</span><span class="n">validator_set</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">//</span> <span class="mi">3</span>
    
    <span class="k">def</span> <span class="nf">verify_packet_commitment</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">packet</span><span class="p">,</span> <span class="n">proof</span><span class="p">,</span> <span class="n">client</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Verify packet was committed on source chain</span><span class="sh">"""</span>
        <span class="c1"># Verify merkle proof of packet commitment
</span>        <span class="c1"># Against client's trusted state root
</span>        <span class="k">return</span> <span class="bp">True</span>  <span class="c1"># Simplified
</span>    
    <span class="k">def</span> <span class="nf">commit_packet</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">packet</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Create commitment for packet</span><span class="sh">"""</span>
        <span class="kn">import</span> <span class="n">hashlib</span>
        <span class="k">return</span> <span class="n">hashlib</span><span class="p">.</span><span class="nf">sha256</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">packet</span><span class="p">).</span><span class="nf">encode</span><span class="p">()).</span><span class="nf">hexdigest</span><span class="p">()</span>
</code></pre></div></div>

<hr />

<h2 id="4-mathematical--cryptographic-formulation">4. Mathematical / Cryptographic Formulation</h2>

<p>Shared security model trong Polkadot requires validator set size analysis. Total validators (N), distributed across (p) parachains và relay chain. To maintain security level (\alpha) for each parachain:</p>

<p>[
\frac{N}{p+1} \geq \frac{N_{\min}}{\alpha}
]</p>

<p>Where (N_{\min}) minimum validators for target security level.</p>

<p>Example: Target 128-bit security, need ~150 validators minimum per chain:
[
150p \leq N_{\text{total}}
]</p>

<p>With 1000 total validators:
[
p \leq \frac{1000}{150} \approx 6 \text{ parachains}
]</p>

<p>More parachains = security per parachain decreases!</p>

<p><strong>Cosmos IBC verification</strong> requires proving consensus on source chain. For Tendermint với validator set (V), proving block (B) finalized requires:</p>

<p>[
\sum_{v \in V_{\text{signed}}} \text{stake}(v) \geq \frac{2}{3} \sum_{v \in V} \text{stake}(v)
]</p>

<p>Verifier on destination chain:</p>
<ol>
  <li>Has validator set (V) (from light client)</li>
  <li>Receives signatures ({\sigma_1, …, \sigma_k})</li>
  <li>Verifies each (\sigma_i) valid</li>
  <li>Checks total stake ≥ 2/3</li>
</ol>

<p>Cost: (O(k)) signature verifications where (k) typically ~100.</p>

<hr />

<h2 id="5-implementation-insight">5. Implementation Insight</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PolkadotRelayChain</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Polkadot Relay Chain coordinating parachains</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">num_validators</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">validators</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">initialize_validators</span><span class="p">(</span><span class="n">num_validators</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">parachains</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">self</span><span class="p">.</span><span class="n">current_epoch</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">register_parachain</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">para_id</span><span class="p">,</span> <span class="n">lease_start</span><span class="p">,</span> <span class="n">lease_end</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Register parachain (won auction)</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">parachains</span><span class="p">[</span><span class="n">para_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">para_id</span><span class="sh">'</span><span class="p">:</span> <span class="n">para_id</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">lease_start</span><span class="sh">'</span><span class="p">:</span> <span class="n">lease_start</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">lease_end</span><span class="sh">'</span><span class="p">:</span> <span class="n">lease_end</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">state_root</span><span class="sh">'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="sh">'</span><span class="s">assigned_validators</span><span class="sh">'</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
        
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">✓ Parachain </span><span class="si">{</span><span class="n">para_id</span><span class="si">}</span><span class="s"> registered</span><span class="sh">"</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">  Lease: Blocks </span><span class="si">{</span><span class="n">lease_start</span><span class="si">}</span><span class="s"> - </span><span class="si">{</span><span class="n">lease_end</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">assign_validators_to_parachains</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Randomly assign validators each epoch</span><span class="sh">"""</span>
        <span class="kn">import</span> <span class="n">random</span>
        
        <span class="c1"># Shuffle validators for randomness
</span>        <span class="n">shuffled</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">validators</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>
        <span class="n">random</span><span class="p">.</span><span class="nf">shuffle</span><span class="p">(</span><span class="n">shuffled</span><span class="p">)</span>
        
        <span class="c1"># Distribute across parachains
</span>        <span class="n">validators_per_para</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">validators</span><span class="p">)</span> <span class="o">//</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">parachains</span><span class="p">)</span>
        
        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">para_id</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">parachains</span><span class="p">:</span>
            <span class="n">assigned</span> <span class="o">=</span> <span class="n">shuffled</span><span class="p">[</span><span class="n">idx</span><span class="p">:</span><span class="n">idx</span> <span class="o">+</span> <span class="n">validators_per_para</span><span class="p">]</span>
            <span class="n">self</span><span class="p">.</span><span class="n">parachains</span><span class="p">[</span><span class="n">para_id</span><span class="p">][</span><span class="sh">'</span><span class="s">assigned_validators</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">assigned</span>
            <span class="n">idx</span> <span class="o">+=</span> <span class="n">validators_per_para</span>
            
            <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Epoch </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">current_epoch</span><span class="si">}</span><span class="s">: Para </span><span class="si">{</span><span class="n">para_id</span><span class="si">}</span><span class="s"> assigned </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">assigned</span><span class="p">)</span><span class="si">}</span><span class="s"> validators</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">validate_parachain_block</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">para_id</span><span class="p">,</span> <span class="n">block</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Validators verify parachain block</span><span class="sh">"""</span>
        <span class="n">para</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">parachains</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">para_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">para</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        
        <span class="c1"># Assigned validators verify
</span>        <span class="n">attestations</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">validator</span> <span class="ow">in</span> <span class="n">para</span><span class="p">[</span><span class="sh">'</span><span class="s">assigned_validators</span><span class="sh">'</span><span class="p">]:</span>
            <span class="c1"># Each validator checks state transition
</span>            <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="nf">verify_state_transition</span><span class="p">(</span><span class="n">block</span><span class="p">):</span>
                <span class="n">attestation</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="sh">'</span><span class="s">validator</span><span class="sh">'</span><span class="p">:</span> <span class="n">validator</span><span class="p">[</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="p">],</span>
                    <span class="sh">'</span><span class="s">block_hash</span><span class="sh">'</span><span class="p">:</span> <span class="n">block</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">hash</span><span class="sh">'</span><span class="p">),</span>
                    <span class="sh">'</span><span class="s">valid</span><span class="sh">'</span><span class="p">:</span> <span class="bp">True</span>
                <span class="p">}</span>
                <span class="n">attestations</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">attestation</span><span class="p">)</span>
        
        <span class="c1"># Need 2/3+ attestations
</span>        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">attestations</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nf">len</span><span class="p">(</span><span class="n">para</span><span class="p">[</span><span class="sh">'</span><span class="s">assigned_validators</span><span class="sh">'</span><span class="p">])</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">//</span> <span class="mi">3</span><span class="p">:</span>
            <span class="c1"># Include in relay chain
</span>            <span class="n">self</span><span class="p">.</span><span class="nf">finalize_parachain_block</span><span class="p">(</span><span class="n">para_id</span><span class="p">,</span> <span class="n">block</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>
        
        <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">def</span> <span class="nf">finalize_parachain_block</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">para_id</span><span class="p">,</span> <span class="n">block</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Finalize parachain block on relay chain</span><span class="sh">"""</span>
        <span class="n">para</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">parachains</span><span class="p">[</span><span class="n">para_id</span><span class="p">]</span>
        <span class="n">para</span><span class="p">[</span><span class="sh">'</span><span class="s">state_root</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">block</span><span class="p">[</span><span class="sh">'</span><span class="s">state_root</span><span class="sh">'</span><span class="p">]</span>
        
        <span class="c1"># Process cross-chain messages
</span>        <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">block</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">messages</span><span class="sh">'</span><span class="p">,</span> <span class="p">[]):</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">route_xcmp_message</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">✓ Parachain </span><span class="si">{</span><span class="n">para_id</span><span class="si">}</span><span class="s"> block finalized on relay chain</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="6-common-challenges--attacks--trade-offs">6. Common Challenges / Attacks / Trade-offs</h2>

<p>Polkadot faces <strong>parachain slot scarcity</strong>. Limited slots (initially ~100, expanding gradually) means not all projects can become parachains. Auction mechanism requires significant DOT token lockup (millions of dollars), favoring well-funded projects. Alternative <strong>parathreads</strong> (pay-as-you-go model) proposed but adoption limited. Trade-off: scarcity ensures quality control và prevents validator dilution, but limits ecosystem growth.</p>

<p>Cosmos <strong>sovereign security</strong> creates variance risk. Strong zones like Cosmos Hub highly secure, smaller zones may have inadequate validator sets. Chain dengan only 10 validators vulnerable to collusion hoặc targeted attacks. IBC doesn’t solve this - communication trustless but communicating với insecure chain still risky. Users must evaluate each zone’s security independently, increasing complexity.</p>

<hr />

<h2 id="7-related-concepts">7. Related Concepts</h2>

<p><strong>Layer 0 protocols</strong> like Cosmos và Polkadot enable <strong>Layer 1 diversity</strong>. Instead of one-size-fits-all blockchain, specialized chains optimized for specific use cases. DeFi chain maximizes throughput, privacy chain implements advanced cryptography, gaming chain low-cost transactions. Specialization improves efficiency versus general-purpose chains attempting everything.</p>

<p><strong>Interoperability trilemma</strong> parallels blockchain trilemma: cannot simultaneously achieve trustlessness, generalizability, và extensibility. Polkadot maximizes trustlessness và extensibility, sacrifices generalizability (parachains must use Substrate). Cosmos maximizes generalizability và extensibility, accepts varying trustlessness. Bridges maximize generalizability, sacrifice trustlessness.</p>

<hr />

<h2 id="8--fundamental-papers--whitepapers">8. ⭐ Fundamental Papers / Whitepapers</h2>

<table>
  <thead>
    <tr>
      <th>Paper</th>
      <th>Year</th>
      <th>Author(s)</th>
      <th>Contribution</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>“Polkadot: Vision for Heterogeneous Multi-Chain Framework”</strong></td>
      <td>2016</td>
      <td>Gavin Wood</td>
      <td>Relay chain và parachain architecture</td>
    </tr>
    <tr>
      <td><strong>“Cosmos: A Network of Distributed Ledgers”</strong></td>
      <td>2016</td>
      <td>Jae Kwon, Ethan Buchman</td>
      <td>Cosmos Hub và IBC protocol foundations</td>
    </tr>
    <tr>
      <td><strong>“IBC Protocol Specification v1”</strong></td>
      <td>2020</td>
      <td>Cosmos core team</td>
      <td>Complete technical specification for IBC</td>
    </tr>
    <tr>
      <td><strong>“Polkadot Runtime Specification”</strong></td>
      <td>2020</td>
      <td>Web3 Foundation</td>
      <td>Detailed relay chain mechanics</td>
    </tr>
    <tr>
      <td><strong>“XCMP Design Documentation”</strong></td>
      <td>2021</td>
      <td>Parity Technologies</td>
      <td>Cross-chain messaging protocol</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="9--illustrations--visual-references">9. 🎨 Illustrations &amp; Visual References</h2>

<p><img src="https://wiki.polkadot.network/assets/images/polkadot-architecture-diagram.png" alt="Polkadot Architecture" /><br />
<em>Source: <a href="https://wiki.polkadot.network/">Polkadot Wiki</a></em></p>

<p><img src="https://tutorials.cosmos.network/resized-images/600/academy/2-cosmos-concepts/images/ibc-flow.png" alt="Cosmos IBC Protocol Flow" /><br />
<em>Source: <a href="https://tutorials.cosmos.network/">Cosmos Academy</a></em></p>

<h3 id="architecture-comparison">Architecture Comparison</h3>

<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>Polkadot</th>
      <th>Cosmos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Security Model</strong></td>
      <td>Shared (relay chain)</td>
      <td>Sovereign (per zone)</td>
    </tr>
    <tr>
      <td><strong>Validator Set</strong></td>
      <td>Unified</td>
      <td>Independent per zone</td>
    </tr>
    <tr>
      <td><strong>Communication</strong></td>
      <td>XCMP (coordinated)</td>
      <td>IBC (peer-to-peer)</td>
    </tr>
    <tr>
      <td><strong>Flexibility</strong></td>
      <td>Medium (Substrate framework)</td>
      <td>High (any Tendermint)</td>
    </tr>
    <tr>
      <td><strong>Slot Acquisition</strong></td>
      <td>Auction (expensive)</td>
      <td>Free (permissionless)</td>
    </tr>
    <tr>
      <td><strong>Security Guarantee</strong></td>
      <td>Uniform across parachains</td>
      <td>Varies per zone</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="10-summary">10. Summary</h2>

<p>Polkadot và Cosmos represent mature approaches to blockchain interoperability, each with distinct architectural philosophies và trade-offs. Polkadot’s shared security model provides strong guarantees uniformly across ecosystem whilst requiring coordination và limiting sovereignty. Cosmos’s sovereign chain model maximizes flexibility và autonomy whilst creating security variance và requiring careful zone evaluation.</p>

<p>Both platforms demonstrate interoperability feasible at scale when designed from inception, offering compelling alternatives to post-hoc bridge solutions. Understanding these architectures essential for evaluating interoperability landscape và choosing appropriate approach for specific applications.</p>

<hr />

<p>✅ <strong>End of Lecture</strong></p>

<p>Next: Chapter 07 - Advanced Blockchain Topics</p>

<hr />

<h2 id="references">References</h2>

<ol>
  <li>Wood, G. (2016). <em>Polkadot: Vision for a Heterogeneous Multi-Chain Framework</em>. Polkadot Whitepaper.</li>
  <li>Kwon, J., &amp; Buchman, E. (2016). <em>Cosmos: A Network of Distributed Ledgers</em>. Cosmos Whitepaper.</li>
  <li>Cosmos Network. (2020). <em>IBC Protocol Specification</em>. https://github.com/cosmos/ibc</li>
  <li>Web3 Foundation. (2020). <em>Polkadot Runtime Specification</em>.</li>
  <li>Parity Technologies. (2021). <em>XCMP Design Documentation</em>.</li>
</ol>


</div>

<!-- Back to Chapter Home Link -->

  
  
  <div style="margin-top: 20px; padding: 10px; background-color: #f8f9fa; border-left: 4px solid #007bff;">
    <a href="/deep-learning-self-learning/contents/vi/chapter06/" style="text-decoration: none; color: #007bff; font-weight: bold;">
      ← Quay lại đầu chương
    </a>
  </div>













<div class="related">
  <ul class="related-posts">
    
      
    
      
        <li>
          <h2>Previous Post</h2>
          <h3>
            <a href="/deep-learning-self-learning/contents/vi/chapter06/blockchain-chapter06/06_01_Blockchain_Bridges/">
              Lecture 06.01: Blockchain Bridges - Architecture, Security, và Trade-offs
            </a>
          </h3>
        </li>
      
    
      
    
    
    
  
    
  
    
  
  </ul>
</div>



<script src="https://utteranc.es/client.js"
        repo="convex-deep-learning-for-all/convex-deep-learning-for-all.github.io"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='/deep-learning-self-learning/public/js/script.js'></script>
    <script src='/deep-learning-self-learning/public/js/multilang.js'></script>
    <script src='/deep-learning-self-learning/public/js/search.js'></script>
  </body>
</html>
